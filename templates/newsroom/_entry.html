{% extends "_layouts/_base" %}

{% block seo %}
{% include "_includes/seo" %}
{% endblock %}

{% set headerColour = entry.headerColour %}
{% set bodyClass = headerColour %}

{% block headContent %}
<link href="{{ siteUrl }}assets/css/splide-core.min.css" rel="stylesheet"/>
<link href="https://vjs.zencdn.net/8.3.0/video-js.css" rel="stylesheet" />
{% endblock %}

{% block main %}
{% set heroImage = entry.heroImage.one() ?? entry.imageThumbnail.one() %}
<section>
  <img 
    class="background-image{% if entry.greyscaleImage %} greyscale{% endif %}"
    src="{{ heroImage.url('thumb1920X1080') }}" 
    loading="lazy" 
    alt="{{ entry.title }}" 
    sizes="100vw" 
    srcset="
      {{ heroImage.url('thumb480X270') }} 480w,
      {{ heroImage.url('thumb512X288') }} 512w,
      {{ heroImage.url('thumb768X432') }} 768w,
      {{ heroImage.url('thumb960X540') }} 960w,
      {{ heroImage.url('thumb1280X720') }} 1280w,
      {{ heroImage.url('thumb1920X1080') }} 1920w
      ">
</section>

<section>
  <div class="section-container max-width py-5 d-flex justify-content-between flex-wrap">
    <a class="back-link" href="{{ siteUrl }}newsroom">Back</a>

    <ul class="crumbs">
      <li><a href="{{ siteUrl }}newsroom">Newsroom</a></li>
      <li>{{ entry.title }}</li>
    </ul>
  </div><!-- end section-container -->

  <section class="post-block light">
    <div class="section-container py-lg-10 max-width">
      <h1>{{ entry.title }}</h1>
      
      <div class="row">
        <div class="col-lg-10 col-xl-8">
          <h3 class="tw-medium">{{ entry.subtitle }}</h3>
        </div><!-- end col -->
      </div><!-- end row -->
    </div><!-- end section-container -->
  </section>

  {% include "_includes/content_blocks" %}
</section>
{% endblock %}

{% block javascript %}

<script src="https://vjs.zencdn.net/8.3.0/video.min.js"></script>
<script>
$(document).ready(function() {
  $('.work-item').each(function(){
    var subtitle = $(this).find('.thumb-subtitle');
    subtitleHeight = subtitle.outerHeight() + 'px';
    subtitle.css('margin-bottom', '-' + subtitleHeight);
  });
});
</script>
{% endblock %}
